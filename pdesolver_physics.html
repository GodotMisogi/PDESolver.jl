<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>PDESolver PhysicsInterface · PDESolver.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.5.0/styles/default.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Ubuntu+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="assets/documenter.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="assets/documenter.js"></script><script src="../versions.js"></script></head><body><nav class="toc"><h1>PDESolver.jl</h1><form class="search" action="search.html"><select id="version-selector" onChange="window.location.href=this.value"><option value="#" selected="selected" disabled="disabled">Version</option></select><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="index.html">Home</a></li><li><a class="toctext" href="interfaces.html">Code Interfaces</a></li><li><a class="toctext" href="parallel.html">Code Parallelization</a></li><li><span class="toctext">PDESolver</span><ul><li><a class="toctext" href="pdesolver.html">Introduction</a></li><li><a class="toctext" href="pdesolver_user.html">PDESolver User Interface</a></li><li class="current"><a class="toctext" href="pdesolver_physics.html">PDESolver PhysicsInterface</a><ul class="internal"><li><a class="toctext" href="#Evaluating-the-Physics-1">Evaluating the Physics</a></li><li><a class="toctext" href="#Registration-Functions-1">Registration Functions</a></li></ul></li></ul></li><li><span class="toctext">Invocation</span><ul><li><a class="toctext" href="invocation/calling.html">Calling PDESolver</a></li><li><a class="toctext" href="invocation/interactive.html">Interactive Session (experimental)</a></li></ul></li><li><span class="toctext">Solver</span><ul><li><a class="toctext" href="solver/Readme.html">Overview of Physics Modules</a></li><li><span class="toctext">Advection</span><ul><li><a class="toctext" href="solver/advection/advection.html">Main</a></li><li><a class="toctext" href="solver/advection/types.html">Datatypes</a></li><li><a class="toctext" href="solver/advection/volume.html">Volume Integrals</a></li><li><a class="toctext" href="solver/advection/flux.html">Face Integrals</a></li><li><a class="toctext" href="solver/advection/bc.html">Boundary Integrals</a></li><li><a class="toctext" href="solver/advection/ic.html">Initial Condition</a></li><li><a class="toctext" href="solver/advection/source.html">Source Term</a></li><li><a class="toctext" href="solver/advection/common.html">Common Functions</a></li><li><a class="toctext" href="solver/advection/adjoint.html">Adjoint</a></li><li><a class="toctext" href="solver/advection/boundary_functional.html">Boundary Functional</a></li></ul></li><li><span class="toctext">Euler</span><ul><li><a class="toctext" href="solver/euler/euler.html">Main</a></li><li><a class="toctext" href="solver/euler/types.html">Datatypes</a></li><li><a class="toctext" href="solver/euler/volume.html">Volume Integrals</a></li><li><a class="toctext" href="solver/euler/flux.html">Face Integrals</a></li><li><a class="toctext" href="solver/euler/bc.html">Boundary Integrals</a></li><li><a class="toctext" href="solver/euler/ic.html">Initial Conditions</a></li><li><a class="toctext" href="solver/euler/source.html">Source Term</a></li><li><a class="toctext" href="solver/euler/common.html">Common Functions</a></li><li><a class="toctext" href="solver/euler/conversion.html">Conversion</a></li><li><a class="toctext" href="solver/euler/flux_functions.html">Numerical Flux Functions</a></li><li><a class="toctext" href="solver/euler/stabilization.html">Stabilization</a></li><li><a class="toctext" href="solver/euler/adjoint.html">Adjoint</a></li><li><a class="toctext" href="solver/euler/boundary_functional.html">Boundary Functions</a></li><li><a class="toctext" href="solver/euler/misc.html">Misc</a></li></ul></li><li><span class="toctext">Simple ODE</span><ul><li><a class="toctext" href="solver/simpleODE/simpleODE.html">Main</a></li></ul></li></ul></li><li><span class="toctext">Input</span><ul><li><a class="toctext" href="input/input.html">Main</a></li></ul></li><li><span class="toctext">NonlinearSolvers</span><ul><li><a class="toctext" href="NonlinearSolvers/nonlinearsolvers.html">Main</a></li><li><a class="toctext" href="NonlinearSolvers/steady.html">Steady</a></li><li><a class="toctext" href="NonlinearSolvers/unsteady.html">Unsteady</a></li></ul></li><li><span class="toctext">Utils</span><ul><li><a class="toctext" href="Utils/Utils.html">Main</a></li><li><a class="toctext" href="Utils/parallel.html">Parallel Constructs</a></li><li><a class="toctext" href="Utils/projections.html">Projections</a></li><li><a class="toctext" href="Utils/logging.html">Logging</a></li><li><a class="toctext" href="Utils/io.html">Input/Output</a></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li>PDESolver</li><li><a href="pdesolver_physics.html">PDESolver PhysicsInterface</a></li></ul><a class="edit-page" href="https://github.com/OptimalDesignLab/PDESolver.jl/tree/3a81d2d194c3e2494749c1741cb080e888892a41/docs/src/pdesolver_physics.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/></header><h1><a class="nav-anchor" id="Documentation-of-the-PDESolver-Physics-Module-Interface-1" href="#Documentation-of-the-PDESolver-Physics-Module-Interface-1">Documentation of the PDESolver Physics Module Interface</a></h1><p>The <code>PDESolver</code> Module provides some structure for physics modules to plug into. See <a href="interfaces.html#Interfaces-in-PDESolver-1">Interfaces in PDESolver</a> for details. Each physics module should extend <a href="pdesolver_physics.html#PDESolver.evalResidual"><code>evalResidual</code></a> with a new method to which takes the <code>AbstractSolutionData</code> defined by the physics module as an argument. This structure allows <code>evalResidual</code> to be visible to the <code>NonlinearSolver</code> module while being defined by the physics modules.</p><h2><a class="nav-anchor" id="Evaluating-the-Physics-1" href="#Evaluating-the-Physics-1">Evaluating the Physics</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="PDESolver.evalResidual" href="#PDESolver.evalResidual"><code>PDESolver.evalResidual</code></a> — <span class="docstring-category">Function</span>.</div><div><p>This function evalutes dq/dt = R(q).  For steady problems it evalutes R(q)   at some state q.  The state is stored in eqn.q, and eqn.res is populated with   R(q).  Note that these are 3 dimensional arrays.  The physics modules only   interact with the 3 dimensional arrays, never the vectors eqn.q_vec and   eqn.res_vec.  Each physics module must implement this function for its   own subtype of AbstractSolutionData (ie. with a more specific type for   the eqn argument and equallty specific types for the other arguments).   This is important because evalResidual is common to all physics modules,   so a user or some other part of the code can call evalResidual(mesh, sbp   eqn, opts), and Julia&#39;s multiple dispatch will figure out the right method   to call based on the type of the eqn argument.</p><p>The evaluation of the residual R(q) should depend only on the data stored in   mesh, sbp, eqn, and opts, and any data that depend on q should be recalculated   every time the function is called.  This function is used as a building block   by other parts of the solver, particularly the NonlinearSolvers.  See   interfaces.md for details</p><p>Inputs:     mesh: an AbstractMesh describing the mesh on which to solve the physics     sbp: an SBP operator     eqn: a subtype of AbstractSolution data, used to store all of the data used          by the physics module     opts: the options dictionary     t: the current time value, defaults to 0.0</p></div></section><h2><a class="nav-anchor" id="Registration-Functions-1" href="#Registration-Functions-1">Registration Functions</a></h2><p>These function provide the basic API for registering and retrieving physics modules with the <code>PDESolver</code> module.</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="PDESolver.register_physics" href="#PDESolver.register_physics"><code>PDESolver.register_physics</code></a> — <span class="docstring-category">Function</span>.</div><div><p>This function registered a new physics module with the global list of all   known physics modules.  Every physics module should do this as part of   module initialization.  The name, the module, and the startup function must   be unique (ie. they must not already exist in the list).  This function   throws and exception if they are not.</p><p>Inputs:</p><pre><code class="language-none">modname:  an ASCIIString name for this entry in the list.  It is used
          to retrieve the module and startup function in the 
          retrieve_physics function. Typically the name is capitalized.
mod:  the Module itself
startup_func: the function for running the physics.  It must have signature
              startup_func(fname::ASCIIString), where fname is the name of
              an input file</code></pre><p>Outputs:</p><pre><code class="language-none">none</code></pre></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="PDESolver.retrieve_physics" href="#PDESolver.retrieve_physics"><code>PDESolver.retrieve_physics</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Retrieves the physics module and function registered using <a href="pdesolver_physics.html#PDESolver.register_physics"><code>register_physics</code></a></p><p>Input:</p><pre><code class="language-none">modname: an ASCIIString containing the name of the module supplied to
         `register_physics`</code></pre><p>Outputs:</p><pre><code class="language-none">mod: the physics Module
func: the function to evaluate the physics</code></pre></div></section><p>See also <a href="pdesolver_user.html#PDESolver.registerIC"><code>registerIC</code></a> and <a href="pdesolver_user.html#PDESolver.registerBC"><code>registerBC</code></a>.</p><footer><hr/><a class="previous" href="pdesolver_user.html"><span class="direction">Previous</span><span class="title">PDESolver User Interface</span></a><a class="next" href="invocation/calling.html"><span class="direction">Next</span><span class="title">Calling PDESolver</span></a></footer></article></body></html>
