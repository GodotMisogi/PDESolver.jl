<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Test API · PDESolver.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link href="../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>PDESolver.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../search.html"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../index.html">PDESolver Introduction</a></li><li><span class="toctext">PDESolver Concepts</span><ul><li><a class="toctext" href="../concepts/intro.html">Intro</a></li><li><a class="toctext" href="../concepts/pumi.html">PUMI</a></li><li><a class="toctext" href="../concepts/sbp.html">SBP</a></li></ul></li><li><span class="toctext">Building PDESolver</span><ul><li><a class="toctext" href="../build.html">Building PDESolver</a></li><li><a class="toctext" href="../deps_readme.html">Build Options</a></li></ul></li><li><span class="toctext">DOC To be broken up or organized</span><ul><li><a class="toctext" href="../interfaces.html">Code Interfaces</a></li><li><a class="toctext" href="../parallel.html">Code Parallelization</a></li></ul></li><li><span class="toctext">Examples</span><ul><li><a class="toctext" href="../examples/isentropic.html">Isentropic Vortex</a></li><li><a class="toctext" href="../examples/unsteady.html">Unsteady Vortex</a></li></ul></li><li><span class="toctext">Frontend</span><ul><li><a class="toctext" href="../pdesolver.html">Introduction</a></li><li><a class="toctext" href="../pdesolver_user.html">PDESolver User Interface</a></li><li><a class="toctext" href="../pdesolver_physics.html">PDESolver Physics Interface</a></li><li><a class="toctext" href="../pdesolver_structure.html">PDESolver Structure</a></li></ul></li><li><span class="toctext">Invocation</span><ul><li><a class="toctext" href="../invocation/calling.html">Calling PDESolver</a></li><li><a class="toctext" href="../invocation/interactive.html">Interactive Session (experimental)</a></li></ul></li><li><span class="toctext">Solver</span><ul><li><a class="toctext" href="../solver/Readme.html">Overview of Physics Modules</a></li><li><a class="toctext" href="../solver/misc.html">Assorted Function and Types</a></li><li><a class="toctext" href="../solver/SolverCommon.html">Solver Common</a></li><li><span class="toctext">Advection</span><ul><li><a class="toctext" href="../solver/advection/advection.html">Introduction</a></li><li><a class="toctext" href="../solver/advection/types.html">Datatypes</a></li><li><a class="toctext" href="../solver/advection/volume.html">Volume Integrals</a></li><li><a class="toctext" href="../solver/advection/flux.html">Face Integrals</a></li><li><a class="toctext" href="../solver/advection/bc.html">Boundary Integrals</a></li><li><a class="toctext" href="../solver/advection/ic.html">Initial Condition</a></li><li><a class="toctext" href="../solver/advection/source.html">Source Term</a></li><li><a class="toctext" href="../solver/advection/common.html">Common Functions</a></li><li><a class="toctext" href="../solver/advection/adjoint.html">Adjoint</a></li><li><a class="toctext" href="../solver/advection/boundary_functional.html">Boundary Functional</a></li></ul></li><li><span class="toctext">Euler</span><ul><li><a class="toctext" href="../solver/euler/euler.html">Introduction</a></li><li><a class="toctext" href="../solver/euler/types.html">Datatypes</a></li><li><a class="toctext" href="../solver/euler/volume.html">Volume Integrals</a></li><li><a class="toctext" href="../solver/euler/volume_diff.html">Volume Integrals Jacobian</a></li><li><a class="toctext" href="../solver/euler/flux.html">Face Integrals</a></li><li><a class="toctext" href="../solver/euler/flux_diff.html">Face Integrals Jacobian</a></li><li><a class="toctext" href="../solver/euler/faceElementIntegrals.html">Face Element Integrals</a></li><li><a class="toctext" href="../solver/euler/bc.html">Boundary Integrals</a></li><li><a class="toctext" href="../solver/euler/bc_diff.html">Boundary Integrals Jacobian</a></li><li><a class="toctext" href="../solver/euler/ic.html">Initial Conditions</a></li><li><a class="toctext" href="../solver/euler/source.html">Source Term</a></li><li><a class="toctext" href="../solver/euler/common.html">Common Functions</a></li><li><a class="toctext" href="../solver/euler/conversion.html">Conversion</a></li><li><a class="toctext" href="../solver/euler/flux_functions.html">Numerical Flux Functions</a></li><li><a class="toctext" href="../solver/euler/flux_functions_diff.html">Numerical Flux Functions Jacobian</a></li><li><a class="toctext" href="../solver/euler/stabilization.html">Stabilization</a></li><li><a class="toctext" href="../solver/euler/adjoint.html">Adjoint</a></li><li><a class="toctext" href="../solver/euler/boundary_functional.html">Boundary Functional</a></li><li><a class="toctext" href="../solver/euler/misc.html">Misc</a></li><li><a class="toctext" href="../solver/euler/homotopy.html">Homotopy</a></li><li><a class="toctext" href="../solver/euler/homotopy_diff.html">Homotopy Jacobian</a></li><li><a class="toctext" href="../solver/euler/eigensystem.html">Eigensystem</a></li><li><a class="toctext" href="../solver/euler/startup.html">Startup</a></li></ul></li><li><span class="toctext">Simple ODE</span><ul><li><a class="toctext" href="../solver/simpleODE/simpleODE.html">Main</a></li></ul></li></ul></li><li><span class="toctext">Input</span><ul><li><a class="toctext" href="../input/input.html">Introduction</a></li><li><a class="toctext" href="../input/keys.html">Important Keys</a></li></ul></li><li><span class="toctext">LinearSolvers</span><ul><li><a class="toctext" href="../linearsolvers/linearsolvers.html">Introduction</a></li><li><a class="toctext" href="../linearsolvers/pc.html">Preconditioners</a></li><li><a class="toctext" href="../linearsolvers/lo.html">Linear Operators</a></li><li><a class="toctext" href="../linearsolvers/ls.html">Linear Solvers</a></li></ul></li><li><span class="toctext">NonlinearSolvers</span><ul><li><a class="toctext" href="../NonlinearSolvers/nonlinearsolvers.html">Introduction</a></li><li><a class="toctext" href="../NonlinearSolvers/steady.html">Steady</a></li><li><span class="toctext">Unsteady</span><ul><li><a class="toctext" href="../NonlinearSolvers/unsteady/intro.html">Intro</a></li><li><a class="toctext" href="../NonlinearSolvers/unsteady/rk4.html">Runge-Kutta</a></li><li><a class="toctext" href="../NonlinearSolvers/unsteady/lserk.html">LSERK</a></li><li><a class="toctext" href="../NonlinearSolvers/unsteady/cn.html">Crank-Nicolson</a></li><li><a class="toctext" href="../NonlinearSolvers/unsteady/cn_uadj.html">Crank-Nicolson: Unsteady Adjoint</a></li></ul></li><li><a class="toctext" href="../NonlinearSolvers/newton.html">Newton&#39;s Method</a></li><li><a class="toctext" href="../NonlinearSolvers/jacobian.html">Jacobian Calculation</a></li><li><a class="toctext" href="../NonlinearSolvers/jac_recalc.html">Jacobian Freezing</a></li><li><a class="toctext" href="../NonlinearSolvers/residual_evaluation.html">Residual Evalution</a></li><li><a class="toctext" href="../NonlinearSolvers/matrix.html">Matrix Interface</a></li><li><a class="toctext" href="../NonlinearSolvers/newton_inner.html">Newton Inner</a></li></ul></li><li><span class="toctext">Utils</span><ul><li><a class="toctext" href="../Utils/Utils.html">Main</a></li><li><a class="toctext" href="../Utils/parallel.html">Parallel Constructs</a></li><li><a class="toctext" href="../Utils/projections.html">Projections</a></li><li><a class="toctext" href="../Utils/logging.html">Logging</a></li><li><a class="toctext" href="../Utils/io.html">Input/Output</a></li><li><a class="toctext" href="../Utils/checkpoint.html">Checkpointing</a></li><li><a class="toctext" href="../Utils/misc.html">Misccellaneous</a></li></ul></li><li><span class="toctext">Testing</span><ul><li><a class="toctext" href="Testing.html">Introduction</a></li><li><a class="toctext" href="Readme.html">Local Testing</a></li><li><a class="toctext" href="Travis.html">CI Testing</a></li><li class="current"><a class="toctext" href="TestSystem.html">Test API</a><ul class="internal"></ul></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li>Testing</li><li><a href="TestSystem.html">Test API</a></li></ul><a class="edit-page" href="https://github.com/OptimalDesignLab/PDESolver.jl/blob/master/docs/src/test/TestSystem.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Test API</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="TestSystem-API-1" href="#TestSystem-API-1">TestSystem API</a></h1><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="TestSystem.TestList" href="#TestSystem.TestList"><code>TestSystem.TestList</code></a> — <span class="docstring-category">Type</span>.</div><div><p>This type stores all the data that describes a set of tests and their   associated tags.</p><p>** Fields**</p><ul><li><p>funcs: list of functions that contain the tests.  The order in which       the tests run is the same as the order of insertion</p></li><li><p>func_tags: Vector, same length as funcs, where each element is a vector           of tags associated with each func.</p></li><li><p>func_type:  Vector, same length as funcs, describing how to run each            function. 1 = no arguments, 2 = args = (mesh, sbp, eqn, opts),            3 = (mesh, sbp, eqn, opts), using a modified version of an            existing input file</p></li><li><p>input_name: Vector, same length as funcs, containing the name of the input            file to use with each function.  For func_type == 1 this value            is unused, for func type == 2 it is used directly, for             func_type == 3 it is modified and written to a new name            according to mod_input</p></li><li><p>mod_input: Vector, same length as funcs, where each element is a dictionary.           For func_type == 3 the input file specified by input_name is           modified with these keys.  There must also be a key called           &quot;new_fname&quot; that specifies name to write the modified file           to (not including file extension.             This modified file will be loaded before the function            is called.</p></li><li><p>tag_list: collection of all known tags</p></li></ul></div><a class="source-link" target="_blank" href="https://github.com/OptimalDesignLab/PDESolver.jl/blob/c57a3693f745bb619295b20a96ac7b6bc158a2bc/test/TestSystem.jl#L15-L46">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="TestSystem.add_func1!" href="#TestSystem.add_func1!"><code>TestSystem.add_func1!</code></a> — <span class="docstring-category">Function</span>.</div><div><p>This function adds a new test function of func_type == 1 to the list   (a function that takes no arguments).</p><p><strong>Inputs</strong></p><ul><li><p>test_list: the list of tests to append the function to</p></li><li><p>func: the function</p></li><li><p>tags: an array of tags associated with this function.  The user is free      to modify this array afterwards, but not to mutate the strings within      the array. (optional)</p></li></ul></div><a class="source-link" target="_blank" href="https://github.com/OptimalDesignLab/PDESolver.jl/blob/c57a3693f745bb619295b20a96ac7b6bc158a2bc/test/TestSystem.jl#L72-L84">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="TestSystem.add_func2!" href="#TestSystem.add_func2!"><code>TestSystem.add_func2!</code></a> — <span class="docstring-category">Function</span>.</div><div><p>This function adds a new test function of <code>func_type == 2</code> to the list   (a function that takes the arguments (mesh, sbp, eqn, opts), as   obtained from the input file specified).</p><p><strong>Inputs</strong></p><ul><li><p>test_list: the list of tests to append the function to</p></li><li><p>func: the function</p></li><li><p>input_name: name of input file to be used with this function</p></li><li><p>tags: an array of tags associated with this function.  The user is free      to modify this array afterwards, but not to mutate the strings within      the array. (optional)</p></li></ul></div><a class="source-link" target="_blank" href="https://github.com/OptimalDesignLab/PDESolver.jl/blob/c57a3693f745bb619295b20a96ac7b6bc158a2bc/test/TestSystem.jl#L114-L128">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="TestSystem.add_func3!" href="#TestSystem.add_func3!"><code>TestSystem.add_func3!</code></a> — <span class="docstring-category">Function</span>.</div><div><p>This function adds a new test function of <code>func_type == 3</code> to the list   (a function that takes the arguments <code>(mesh, sbp, eqn, opts)</code>, as   obtained from modifying the input file specified).</p><p><strong>Inputs</strong></p><ul><li><p>test_list: the list of tests to append the function to</p></li><li><p>func: the function</p></li><li><p>input_name: name of input file to be modified for use with this function</p></li><li><p>mod_dict: dictionary of keys to be added (or replaced) in the input file</p></li><li><p>tags: an array of tags associated with this function.  The user is free       to modify this array afterwards, but not to mutate the strings within       the array. (optional)</p></li></ul></div><a class="source-link" target="_blank" href="https://github.com/OptimalDesignLab/PDESolver.jl/blob/c57a3693f745bb619295b20a96ac7b6bc158a2bc/test/TestSystem.jl#L158-L173">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="TestSystem.not_isapprox-Tuple" href="#TestSystem.not_isapprox-Tuple"><code>TestSystem.not_isapprox</code></a> — <span class="docstring-category">Method</span>.</div><div><p>Helper function to compute !isapprox(args..., kwargs) in @test macros because</p><p>@test !isapprox(args..., kwargs...)</p><p>doesn&#39;t work.</p></div><a class="source-link" target="_blank" href="https://github.com/OptimalDesignLab/PDESolver.jl/blob/c57a3693f745bb619295b20a96ac7b6bc158a2bc/test/TestSystem.jl#L354-L360">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="TestSystem.runTestSystem-Tuple{TestSystem.TestList,Function,Array{String,1}}" href="#TestSystem.runTestSystem-Tuple{TestSystem.TestList,Function,Array{String,1}}"><code>TestSystem.runTestSystem</code></a> — <span class="docstring-category">Method</span>.</div><div><p>This function runs a test list, according to the tags supplied.  Unlike    <a href="test/@ref"><code>run_tests</code></a>, this function supplies default behavior for the <code>tags</code>   list.  If the list is empty, then all tests are run, otherwise only the   specified tag are run.  See <a href="test/@ref"><code>run_tests</code></a> for argument descriptions.</p><p><strong>Inputs</strong></p><ul><li><p>testlist</p></li><li><p>prep_func</p></li><li><p>tags</p></li></ul></div><a class="source-link" target="_blank" href="https://github.com/OptimalDesignLab/PDESolver.jl/blob/c57a3693f745bb619295b20a96ac7b6bc158a2bc/test/TestSystem.jl#L326-L337">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="TestSystem.run_testlist" href="#TestSystem.run_testlist"><code>TestSystem.run_testlist</code></a> — <span class="docstring-category">Function</span>.</div><div><p>This function runs a test list.  Tests are run in the order they were   loaded into the TestList object.  This implementation handles the case of   several tests sets sharing an input file efficiencly, ie. if several test    functions use the same input file and are placed in the test list    consecutively, the input file will be loaded only once.</p><p>A list of tags can be optionally supplied.  In this case, only the tests   that have the specified tags will be run.  If no list is supplied, all tags   are run.</p><p><strong>Inputs</strong></p><ul><li><p>testlist: a TestList loaded with functions</p></li><li><p>prep_func = function used with test functions of type 2 or 3.  It must             have signature prep_func(fname::String). fname is the             name of hte input file associated with the test function</p></li><li><p>tags: an array of tags (optional)</p></li></ul></div><a class="source-link" target="_blank" href="https://github.com/OptimalDesignLab/PDESolver.jl/blob/c57a3693f745bb619295b20a96ac7b6bc158a2bc/test/TestSystem.jl#L228-L247">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="TestSystem.check_tags-Tuple{Function,Array{String,N} where N}" href="#TestSystem.check_tags-Tuple{Function,Array{String,N} where N}"><code>TestSystem.check_tags</code></a> — <span class="docstring-category">Method</span>.</div><div><p>This function checks that all necessary tags are present and throws   an exception is they are not.</p><p>Currently this only verifies that one of LengthTags is present</p><p><strong>Inputs</strong></p><ul><li><p>func: the function (only needed to produce error message)</p></li><li><p>tags: the tags for this function</p></li></ul><p>Outputs: none</p></div><a class="source-link" target="_blank" href="https://github.com/OptimalDesignLab/PDESolver.jl/blob/c57a3693f745bb619295b20a96ac7b6bc158a2bc/test/TestSystem.jl#L203-L215">source</a></section><footer><hr/><a class="previous" href="Travis.html"><span class="direction">Previous</span><span class="title">CI Testing</span></a></footer></article></body></html>
